<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">

<head>

<meta charset="utf-8" />
<meta name="generator" content="quarto-1.4.555" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />

<meta name="author" content="Hamilton Hewlett" />

<title>Final Paper</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>

<!-- htmldependencies:E3FAD763 -->

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Final Paper</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Hamilton Hewlett </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="introduction" class="level2">
<h2>Introduction</h2>
<p>Report cards, standardized testing, tax brackets, health studies, these are just a few things that can benefit and actively use quantile regression. Why categorize if you can only see the mean of the whole data set? Quantile regression allows us to see multiple mean models ranging across categories and quantiles of specific data segments. To understand how we got to benefit from these models, it is best to start a few steps before quantile regression.</p>
<p>Historically, people have relied on linear regression to interpret data for large data sets. Linear regression is something that is taught in grade school all the way through grad school. It is a great conceptual base and tool for measuring linearity between input and output. For the sake of simplicity, I am going to discuss simple linear regression. Ideally you can create a model based on your input to predict your output. With linear regression you can predict (look toward future values) and explain (look back on past values). Understanding what you can do with this tool creates an easier picture. Simple linear regression uses data to create a regression line to the explain your inputs relationship to the output. There are a few assumptions with linear regression that must be considered. First, your slope is constant, to have linear regression your slope cannot change with the various inputs given. The rest of the assumptions can be explained first using this model, <span class="math inline">\(y=B_0+B_1 X+E\)</span>. The <span class="math inline">\(B_0\)</span> is the intercept, the <span class="math inline">\(B_1X\)</span> is the constant slope with the input of <span class="math inline">\(B_1\)</span> assigned to it. The <span class="math inline">\(E\)</span> is an error term. There are some assumptions with the error term. First, the formula is linear, so the expected value of <span class="math inline">\(E\)</span> is zero. Second, all error terms have the same variance. Third, errors are independent from one another. Fourth, errors are a normally distributed variable <span class="citation" data-cites="zambesi2024">(<a href="#ref-zambesi2024" role="doc-biblioref">Zambesi 2024</a>)</span>. There are some things that linear regression lacks in. Linear regression does not provide a fully accurate representation of larger data sets that may have outliers. Linear regression cannot show you varying levels of data analysis. However, quantile regression can. Roger Koekner gives a great summary of what linear lacks in his presentation on quantile regression. Koekner says “Just as the mean gives an incomplete picture of a single distribution, so the regression curves gives a correspondingly incomplete picture for a set of distributions” <span class="citation" data-cites="koenker2010">(<a href="#ref-koenker2010" role="doc-biblioref">Koenker 2010</a>)</span>. Roger is explaining that one single regression or one mean cannot tell the story of a data model. Roger is showing the need for quantile regression.</p>
<p>Quantile regression allows for you to look at certain blocks of your data. Instead of creating a mean model, you can look at sections. You can break the data down however you would like. This allows for your regression equations to have a more crisp picture of each section. The outliers in the top section of data will not influence the bottom and vice versa. The more quantiles that are added, the smaller your sample size becomes. When you break your data into these sections you are actually breaking the sample population up and only looking at what fits in the given quantile. This can potentially cause validity issues if questioned about sample size <span class="citation" data-cites="cookmanning2013">(<a href="#ref-cookmanning2013" role="doc-biblioref">Cook B 2013</a>)</span>. You also may run into crossing which shouldn’t happen but seems inevitable. It is a worry that would make you think this method should be deemed invalid. Think of 4 equations across a data set split up between the varying sections within the data. Knowing that unless a line is perfectly parallel with another, intersection is deemed to happen at some point. A non crossing model is attainable. A great advantage to quantile regression is that you gain an “understanding relationship between variables outside of the mean of the data” <span class="citation" data-cites="cookmanning2013">(<a href="#ref-cookmanning2013" role="doc-biblioref">Cook B 2013</a>)</span>. This allows for better interpretation for non normal distributions <span class="citation" data-cites="cookmanning2013">(<a href="#ref-cookmanning2013" role="doc-biblioref">Cook B 2013</a>)</span>.</p>
<p>I wanted to highlight a great application example of quantile regression and the power it has to analyze large and complex data sets. Cook and Manning discuss a study that looked at raising on taxes on alcohol purchases. Participants were categorized as light, moderate, and heavy drinkers. The goal of the study was to see if price increase on alcohol would deter heavy drinkers from purchasing alcohol. If you just used linear regression, you would of been convinced that price was significant. However, when observing using quantile regression, we can see that only the moderate drinkers reduced their consumption based on price. The heavy and light drinkers were not swayed and price was not significant with them. This is an example of how powerful quantile regression can be. This method is used throughout all of our society and is a great tool to correctly interpret complex data<span class="citation" data-cites="cookmanning2013">(<a href="#ref-cookmanning2013" role="doc-biblioref">Cook B 2013</a>)</span>.</p>
</section>
<section id="methods-and-research-question" class="level2">
<h2>Methods and Research Question</h2>
<p>For the analysis being performed in this paper, we will be using non parametric quantile regression. We do not need to ensure we have met assumptions that you normally would with quantile regression. Koenker, Rey, and Aghion discuss this in their publication “Quantile Regression: 40 Years On.” They discuss that nonparametric regression relaxes the strict linearity in co-variate assumptions of the foregoing methods while preserving the convenient linear in parameters structure that facilitates efficient computation” <span class="citation" data-cites="koenkerreyaghion2017">(<a href="#ref-koenkerreyaghion2017" role="doc-biblioref">Koenker R 2017</a>)</span>. They are saying that with nonparametric methods, we do not have to meet the normal linear assumptions given. We can still create quality models while not having to adhere to the norms. Assumptions like equal variances, independent errors, and normally distributed models <span class="citation" data-cites="zambesi2024">(<a href="#ref-zambesi2024" role="doc-biblioref">Zambesi 2024</a>)</span> can be ignored. The formula for nonlinear (in parameters) quantile regression is <span class="math inline">\(Q_{Y_{i}}(\tau | x) = g(x,\theta(\tau))\)</span> <span class="citation" data-cites="koenkerreyaghion2017">(<a href="#ref-koenkerreyaghion2017" role="doc-biblioref">Koenker R 2017</a>)</span>.</p>
<p>For my personal application of quantile regression, I want to dive into behavioral risk factor surveillance system (BRFSS) data. I want to know if the predictors of height and weight can have a significant affect on the age participants are told they have diabetes. I am going to analyze different quantiles of the data to see if certain areas of the population differ from others. My null hypothesis is going to be that height and weight are not significant predictors of age participants are told they have diabetes. If I fall below alpha of 0.05 on this collectively or for individual predictors, I will reject my null. To perform my analysis, I used R studio server version 4.4.1.</p>
</section>
<section id="analysis-and-results" class="level2">
<h2>Analysis and Results</h2>
<section id="data-exploration-and-results" class="level4">
<h4>Data Exploration and Results</h4>
<p>First I would like to start with my data set. The BRFSS data set is phone survey data of participants eighteen years old or more. The Centers for Disease Control and Prevention conducts these surveys and owns the data set. There are some requirements that must be met as a state to be included in the data set, one of which being response count. Kentucky and Pennsylvania failed to meet this and were not included. For my analysis, I will only cover a few of the variables I used in the data set. I only looked at data from the state of Florida (state=12). For my predictor variables, I used DIABETE4, WEIGHT2, and HEIGHT3. DIABETE4 is a variable used for participants to share if they have ever been told they have diabetes. The acceptable responses were 1 (Yes), 2 (Yes, but female told only during pregnancy), 3 (No), 4 (No, pre-diabetes or borderline diabetes), 7 (Don’t know/not sure), 9 (Refused). For the sake of this analysis, we stratified everything by 1 (Yes). WEIGHT2 is a variable for participants to share how much they weigh without shoes on. The responses were acceptable 50-0776 (Weight in pounds), 7777 (Don’t know/Not sure), 9023 - 9352 (Weight in kilograms), 9999 (Refused), and BLANK (Not asked or Missing). HEIGHT3 is a variable that allowed participants to share their height without shoes on. The acceptable responses recorded that I used are imperial. The metric responses were much larger and made sense to be metric. For my response variable, I used DIABAGE4. DIABAGE4 is a variable that allows participants to share how old they were when told they first had diabetes. The acceptable responses are 1-97 (Age in years), 98 (Don’t know/Not sure), 99 (Refused), and BLANK (Not asked or Missing). Below is a table with some descriptive statistics. This table is important because I want to show that I stratified everything by DIABETE4. For the sake of this analysis, it was only valid to use response (1). I showed that my data was clean and valid in omitting true NANs and the exclusive of all other responses due to my inclusion of DIABAGE4 in the below. As you can see, there are no other valid responses other than (1) that have data in them for DIABAGE4. This just further backs the validity and logical reasoning that the data set represents what it proclaims to. I also included 2 figures showing histograms of my variables DIABAGE4 and WEIGHT2.</p>
<p>Table 1</p>
<table class="caption-top">
<colgroup>
<col style="width: 18%" />
<col style="width: 13%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 12%" />
<col style="width: 12%" />
</colgroup>
<thead>
<tr class="header">
<th>Stratified by DIABETE4</th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td></td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>4</td>
<td>7</td>
<td>9</td>
</tr>
<tr class="even">
<td>n</td>
<td>1952</td>
<td>78</td>
<td>9764</td>
<td>222</td>
<td>28</td>
<td>2</td>
</tr>
<tr class="odd">
<td>DIABAGE4 (mean(SD))</td>
<td>54.39 (18.62)</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
<td>-</td>
</tr>
<tr class="even">
<td>WEIGHT2 (mean(SD))</td>
<td>199.36 (50.47)</td>
<td>164.17 (36.29)</td>
<td>177.37 (45.32)</td>
<td>196.36 (51.12)</td>
<td>179.36 (55.79)</td>
<td>153.00 (62.23)</td>
</tr>
<tr class="odd">
<td>HEIGHT3 (mean(SD))</td>
<td>610.68 (837.91)</td>
<td>1115.53 (2145.01)</td>
<td>709.05 (1238.72)</td>
<td>738.83 (1335.65)</td>
<td>508.54 (31.71)</td>
<td>506.00 (1.41)</td>
</tr>
</tbody>
</table>
<p>Figure 1</p>
<p><img src="https://hmh56.github.io/IDS6940Hewlett/diabage.png" class="img-fluid" /></p>
<p>Figure 2</p>
<p><img src="https://hmh56.github.io/IDS6940Hewlett/weightage.png" class="img-fluid" /></p>
</section>
<section id="modeling-and-results" class="level4">
<h4>Modeling and Results</h4>
<p>I would like to further explain my analysis and the steps I took to get to my models. I started out downloading an XPT file from the CDC BRFSS website. I had to rename one of the variables “_STATE” to “state”. I had to do this from the onset because R was having difficulty recognizing the underscore as a variable name when I was trying to filter later on. So, I had to make this change very early on to ensure I filtered correctly for Florida. I also filtered to see data where DIABETE4=1. This narrowed down the responses of participants who identified they had diabetes. I also put caps on the variables WEIGHT2 and HEIGHT3 as I was seeing obvious responses that could be disregarded. Below was a snippet of relevant R code I used to perform these tasks.</p>
<div class="cell">
<div class="sourceCode" id="cb1"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(haven)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.1     ✔ tibble    3.2.1
✔ lubridate 1.9.3     ✔ tidyr     1.3.1
✔ purrr     1.0.2     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode" id="cb3"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(quantreg)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: SparseM</code></pre>
</div>
<div class="sourceCode" id="cb5"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>brfssdata <span class="ot">&lt;-</span> <span class="fu">read_xpt</span>(<span class="st">&quot;LLCP2023.XPT&quot;</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>brfssdata <span class="ot">&lt;-</span> brfssdata <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rename</span>(<span class="at">state=</span> <span class="st">&#39;_STATE&#39;</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>brfssdata<span class="sc">$</span>DIABETE4 <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(brfssdata<span class="sc">$</span>DIABETE4)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>data2 <span class="ot">&lt;-</span> brfssdata <span class="sc">%&gt;%</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(state <span class="sc">==</span> <span class="dv">12</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(DIABETE4 <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(WEIGHT2<span class="sc">&lt;</span><span class="dv">2500</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(HEIGHT3<span class="sc">&lt;</span><span class="dv">2500</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(DIABAGE4, WEIGHT2, HEIGHT3) <span class="sc">%&gt;%</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">na.omit</span>()</span></code></pre></div>
</div>
<p>After I had my data set, I did run various descriptive statistics and visuals that I already showed earlier in this paper. I really wanted to show below the creation of my models. My names for each model stems from many model creations and also represents what quantile they are apart of. I created 3 quantiles to observe. mm25 is the 0.25 quantile, mm50 is the 0.50 quantile, and mm75 is the 0.75 quantile of my data set. That is what the tau represents in the model creation below. I used rq() from the quantreg package. I set DIABAGE4 as my response variable. Then, I used WEIGHT2 and HEIGHT3 as my predictor variables. I did explore models where I looked into the interaction between WEIGHT2 and HEIGHT3, however these models were not valid. From here, I called forward each models coefficients and then used those to create equations for each model for my graph. I named this data graph data. I added onto the existing data set I had. Finally, I created a visual. In this visual I wanted to ensure I could tell each line apart, so I made sure to color code and name them in a custom legend. I set my x axis to be WEIGHT2 and my y axis to be DIABAGE4.</p>
<div class="cell">
<div class="sourceCode" id="cb6"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>mm25 <span class="ot">&lt;-</span> <span class="fu">rq</span>(data2<span class="sc">$</span>DIABAGE4<span class="sc">~</span>data2<span class="sc">$</span>WEIGHT2 <span class="sc">+</span> data2<span class="sc">$</span>HEIGHT3, <span class="at">data=</span>data2, <span class="at">tau =</span> <span class="fl">0.25</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>mm50 <span class="ot">&lt;-</span> <span class="fu">rq</span>(data2<span class="sc">$</span>DIABAGE4<span class="sc">~</span>data2<span class="sc">$</span>WEIGHT2 <span class="sc">+</span> data2<span class="sc">$</span>HEIGHT3, <span class="at">data=</span>data2, <span class="at">tau =</span> <span class="fl">0.50</span>)</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>mm75 <span class="ot">&lt;-</span> <span class="fu">rq</span>(data2<span class="sc">$</span>DIABAGE4<span class="sc">~</span>data2<span class="sc">$</span>WEIGHT2 <span class="sc">+</span> data2<span class="sc">$</span>HEIGHT3, <span class="at">data=</span>data2, <span class="at">tau =</span> <span class="fl">0.75</span>)</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">coefficients</span>(mm25),<span class="dv">5</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  (Intercept) data2$WEIGHT2 data2$HEIGHT3 
     46.12525      -0.02405       0.00501 </code></pre>
</div>
<div class="sourceCode" id="cb8"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">coefficients</span>(mm50),<span class="dv">5</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  (Intercept) data2$WEIGHT2 data2$HEIGHT3 
     63.50396      -0.04386      -0.00296 </code></pre>
</div>
<div class="sourceCode" id="cb10"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">coefficients</span>(mm75),<span class="dv">5</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  (Intercept) data2$WEIGHT2 data2$HEIGHT3 
     74.10256      -0.06340       0.00466 </code></pre>
</div>
<div class="sourceCode" id="cb12"><pre class="sourceCode r cell-code"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>graphdata2 <span class="ot">&lt;-</span> data2 <span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mm25reg =</span> <span class="fl">46.12525</span> <span class="sc">+</span> WEIGHT2<span class="sc">*-</span><span class="fl">0.02405</span> <span class="sc">+</span> HEIGHT3<span class="sc">*</span><span class="fl">0.00501</span>,</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">mm50reg =</span> <span class="fl">63.50396</span> <span class="sc">+</span> WEIGHT2<span class="sc">*-</span><span class="fl">0.04386</span> <span class="sc">+</span> HEIGHT3<span class="sc">*-</span><span class="fl">0.00296</span>,</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>         <span class="at">mm75reg =</span> <span class="fl">74.10256</span> <span class="sc">+</span> WEIGHT2<span class="sc">*</span><span class="fl">0.06340</span> <span class="sc">+</span> HEIGHT3<span class="sc">*</span><span class="fl">0.00466</span>)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>graphdata2 <span class="sc">%&gt;%</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>WEIGHT2,<span class="at">y=</span>DIABAGE4))<span class="sc">+</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y=</span>mm25reg, <span class="at">color=</span><span class="st">&quot;blue&quot;</span>))<span class="sc">+</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="at">x=</span><span class="dv">600</span>, <span class="at">y=</span><span class="dv">95</span>, <span class="at">label=</span><span class="st">&quot;mm25reg is blue&quot;</span>,<span class="at">size=</span><span class="dv">3</span>)<span class="sc">+</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y=</span>mm50reg, <span class="at">color=</span><span class="st">&quot;green&quot;</span>))<span class="sc">+</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="at">x=</span><span class="dv">600</span>, <span class="at">y=</span><span class="dv">90</span>, <span class="at">label=</span><span class="st">&quot;mm50reg is green&quot;</span>,<span class="at">size=</span><span class="dv">3</span>)<span class="sc">+</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y=</span>mm75reg, <span class="at">color=</span><span class="st">&quot;red&quot;</span>))<span class="sc">+</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;text&quot;</span>, <span class="at">x=</span><span class="dv">600</span>, <span class="at">y=</span><span class="dv">85</span>, <span class="at">label=</span><span class="st">&quot;mm75reg is red&quot;</span>,<span class="at">size=</span><span class="dv">3</span>)<span class="sc">+</span></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">y=</span><span class="st">&quot;Age Informed&quot;</span>,<span class="at">x=</span><span class="st">&quot;Weight&quot;</span>)<span class="sc">+</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">&quot;none&quot;</span>)</span></code></pre></div>
<div class="cell-output-display">
<div>
<figure>
<p><img src="FInal-Paper_files/figure-html/model%20creation-1.png" class="img-fluid" width="672" /></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="conclusion" class="level2">
<h2>Conclusion</h2>
</section>
<section id="references" class="level2 unnumbered">
<h2 class="unnumbered">References</h2>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-cookmanning2013" class="csl-entry" role="listitem">
Cook B, Manning W. 2013. <span>“Thinking Beyond the Mean: A Practical Guide for Using Quantile Regression Methods for Health Services Research.”</span> <em>Shanghai Arch Psychiatry</em> 25 (1): 55–59.
</div>
<div id="ref-koenkerreyaghion2017" class="csl-entry" role="listitem">
Koenker R, Aghion P, Rey H. 2017. <span>“Quantile Regression: 40 Years On.”</span> <em>Annual Review of Economics</em> 9 (1): 155–76.
</div>
<div id="ref-koenker2010" class="csl-entry" role="listitem">
Koenker, Roger. 2010. <span>“Nonparametric Quantile Regression.”</span> Lecture 3, University of Illinois Urbana-Champaign.
</div>
<div id="ref-zambesi2024" class="csl-entry" role="listitem">
Zambesi, Alethia. 2024. <span>“Correlation and Regression Overview.”</span> Module 7, University of West Florida.
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id = "quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->

</body>

</html>
